[
    {
        "CreateComponents":{
            "path": ["Combat", "Player"],
            "components": [
                {
                    "type": "Position",
                    "name": "position",
                    "parameters": {
                        "x": -32,
                        "y": 480
                    }
                },
                {
                    "type": "Vector2D",
                    "name": "velocity"
                },
                {
                    "type": "Float",
                    "name": "height",
                    "parameters": 64
                },
                {
                    "type": "Float",
                    "name": "width",
                    "parameters": 64
                },
                {
                    "type": "Float",
                    "name": "scale",
                    "parameters": 3.0
                },
                {
                    "type": "Float",
                    "name": "speed",
                    "parameters": 360
                },
                {
                    "type": "Float",
                    "name": "animation_speed",
                    "parameters": 8
                },
                {
                    "type" : "Src::Transform",
                    "name" : "src_temp",
                    "parameters": {
                        "path": ["Spritesheet", "flesh_idle_up.png"]
                    }
                },
                {
                    "type": "Json",
                    "name": "combat_abilities",
                    "parameters": {
                        "jump": {
                            "Jump": {
                                "velocity": ["Combat", "Player", "velocity"],
                                "jump_height": 10
                            }
                        },
                        "ground_ability_1": {
                            "Attack": {
                                "spritesheet": ["Combat", "Spritesheet", "combat-spritesheet"],
                                "direction": ["Combat", "Player", "direction"],
                                "src": ["Combat", "Player", "src"],
                                "attack": {
                                    "left": [
                                        "attack_left_0.png",
                                        "attack_left_1.png",
                                        "attack_left_2.png"
                                    ],
                                    "right": [
                                        "attack_right_0.png",
                                        "attack_right_1.png",
                                        "attack_right_2.png"
                                    ]
                                },
                                "hitboxes": ["Combat", "Player", "hitboxes"]
                            }
                        },
                        "ground_ability_2": {
                            "Projectile": {
                                "spritesheet": ["Combat", "Spritesheet", "combat-spritesheet"],
                                "direction": ["Combat", "Player", "direction"],
                                "src": ["Combat", "Player", "src"],
                                "projectile_vel": 40,
                                "duration": 2,
                                "left": [
                                    "projectile_left.png"
                                ],
                                "right": [
                                    "projectile_right.png"
                                ],
                                "hitboxes": ["Combat", "Player", "hitboxes"]
                            }
                        },
                        "ground_ability_3": {
                            "Block": {
                                "spritesheet": ["Combat", "Spritesheet", "combat-spritesheet"],
                                "direction": ["Combat", "Player", "direction"],
                                "src": ["Combat", "Player", "src"],
                                "block_health": 10,
                                "block": [
                                    "block.png"
                                ],
                                "block_broken": [
                                    "block_broken.png"
                                ],
                                "hitboxes": ["Combat", "Player", "hitboxes"]
                            }
                        },
                        "air_ability_1": {
                            "Attack": {
                                "spritesheet": ["Combat", "Spritesheet", "combat-spritesheet"],
                                "direction": ["Combat", "Player", "direction"],
                                "src": ["Combat", "Player", "src"],
                                "attack": {
                                    "left": [
                                        "kick_left.png"
                                    ],
                                    "right": [
                                        "kick_right.png"
                                    ]
                                },
                                "hitboxes": ["Combat", "Player", "hitboxes"]
                            }
                        }
                    }
                },
                {
                    "type" : "Animation",
                    "name" : "animation",
                    "parameters": {
                        "animation_map": [ "Player", "animation_map"],
                        "id": "idle_down"
                    }
                },
                {
                    "type": "ColliderVector",
                    "name": "impulse"
                },
                {
                    "type" : "Direction",
                    "name" : "direction",
                    "parameters": {"x": 0, "y": 0}
                },
                {
                    "type": "Direction",
                    "name": "prev_direction",
                    "parameters": {"x": 0, "y": 1}
                }
            ]
        }
    },
    {
        "CreateComponents": {
            "path": ["Combat", "Player", "Colliders"],
            "components": {
                "type": "Collider",
                "name": "player_collider",
                "parameters": {
                    "shape": {
                        "type": "GJK::Circle",
                        "parameters": {
                            "radius": 32,
                            "x": 32,
                            "y": 32
                        }
                    },
                    "kind": "physical",
                    "position": ["Combat", "Player", "position"],
                    "scale": ["Combat", "Player", "scale"]
                }
            }
        }
    },
    {
        "CreateComponents": {
            "path": ["Combat", "Player", "Update"],
            "components": [
                {
                    "type" : "System::Animate",
                    "name" : "system-animate",
                    "parameters" : {
                        "animation" : [ "Combat", "Player", "animation" ],
                        "src_temp" : [ "Combat", "Player", "src_temp" ],
                        "speed" : [ "Combat", "Player", "animation_speed" ]
                    } 
                },
                {
                    "type": "System::CombatController",
                    "name": "system-combat_controller",
                    "parameters": {
                        "combat_abilities" : ["Combat", "Player", "combat_abilities"],
                        "controller" : [ "Controller", "controller" ],
                        "direction" : [ "Combat", "Player", "direction" ]
                    }
                },
                {
                    "type" : "System::AnimateMove",
                    "name" : "system-animate_move",
                    "parameters" : {
                        "direction" : [ "Combat", "Player", "direction" ],
                        "prev_direction" : [ "Combat", "Player", "prev_direction" ],
                        "animation_map": [ "Player", "animation_map" ],
                        "animation" : [ "Combat", "Player", "animation" ]
                    }
                }
            ]
        }
    }, 
    {
        "DelayNext":{
            "CreateComponents":{
                "path": ["Combat", "Player", "Render"],
                "components": {
                    "type": "System::ZoomCameraDraw",
                    "name": "system-zoom_camera_draw",
                    "parameters": {
                        "camera_position": ["Combat", "Camera", "position"],
                        "camera_zoom": ["Combat", "Camera", "zoom"],
                        "src": ["Combat", "Player", "src_temp"],
                        "position": ["Combat", "Player", "position"],
                        "scale": ["Combat", "Player", "scale"],
                        "material" : [ "Spritesheet", "material" ]
                    }
                }
            }
        }
    }
]